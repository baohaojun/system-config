#!/usr/bin/env perl

$map{"Q"} = "10";
$map{"D"} = "20";
$map{"B"} = "30";
$map{"F6"} = "40";
$map{"ESC"} = "01";
$map{"W"} = "11";
$map{"F"} = "21";
$map{"N"} = "31";
$map{"F7"} = "41";
$map{"1"} = "02";
$map{"E"} = "12";
$map{"G"} = "22";
$map{"M"} = "32";
$map{"F8"} = "42";
$map{"2"} = "03";
$map{"R"} = "13";
$map{"H"} = "23";
$map{","} = "33";
$map{"F9"} = "43";
$map{"3"} = "04";
$map{"T"} = "14";
$map{"J"} = "24";
$map{"."} = "34";
$map{"F10"} = "44";
$map{"4"} = "05";
$map{"Y"} = "15";
$map{"K"} = "25";
$map{"/"} = "35";
$map{"Num"} = "45";
$map{"5"} = "06";
$map{"U"} = "16";
$map{"L"} = "26";
$map{"Scroll"} = "46";
$map{"6"} = "07";
$map{"I"} = "17";
$map{";"} = "27";
$map{"PrtSc"} = "37";
$map{"Home"} = "47";
$map{"7"} = "08";
$map{"O"} = "18";
$map{"'"} = "28";
$map{"Alt"} = "38";
$map{"Up"} = "48";
$map{"8"} = "09";
$map{"P"} = "19";
$map{"`"} = "29";
$map{"Space"} = "39";
$map{"PgUp"} = "49";
$map{"9"} = "0A";
$map{"["} = "1A";
$map{"Caps"} = "3A";
$map{"-"} = "4A";
$map{"0"} = "0B";
$map{"]"} = "1B";
$map{"\\"} = "2B";
$map{"F1"} = "3B";
$map{"Left"} = "4B";
$map{"-"} = "0C";
$map{"Z"} = "2C";
$map{"F2"} = "3C";
$map{"Center"} = "4C";
$map{"="} = "0D";
$map{"CTRL"} = "1D";
$map{"X"} = "2D";
$map{"F3"} = "3D";
$map{"Right"} = "4D";
$map{"bs"} = "0E";
$map{"A"} = "1E";
$map{"C"} = "2E";
$map{"F4"} = "3E";
$map{"+"} = "4E";
$map{"Tab"} = "0F";
$map{"S"} = "1F";
$map{"V"} = "2F";
$map{"F5"} = "3F";
$map{"End"} = "4F";

print "Windows Registry Editor Version 5.00\n\n";

print '[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Keyboard Layout]' . "\n";
print '"Scancode Map"=hex:00,00,00,00,00,00,00,00,20,00,00,00,';

print $map{";"} . ",00," .$map{"Q"} . ",00,";
print $map{","} . ",00," .$map{"W"} . ",00,";
print $map{"."} . ",00," .$map{"E"} . ",00,";
print $map{"P"} . ",00," .$map{"R"} . ",00,";
print $map{"Y"} . ",00," .$map{"T"} . ",00,";
print $map{"F"} . ",00," .$map{"Y"} . ",00,";
print $map{"G"} . ",00," .$map{"U"} . ",00,";
print $map{"C"} . ",00," .$map{"I"} . ",00,";
print $map{"R"} . ",00," .$map{"O"} . ",00,";
print $map{"L"} . ",00," .$map{"P"} . ",00,";
print $map{"/"} . ",00," .$map{"["} . ",00,";
print $map{"O"} . ",00," .$map{"S"} . ",00,";
print $map{"E"} . ",00," .$map{"D"} . ",00,";
print $map{"U"} . ",00," .$map{"F"} . ",00,";
print $map{"I"} . ",00," .$map{"G"} . ",00,";
print $map{"D"} . ",00," .$map{"H"} . ",00,";
print $map{"H"} . ",00," .$map{"J"} . ",00,";
print $map{"T"} . ",00," .$map{"K"} . ",00,";
print $map{"N"} . ",00," .$map{"L"} . ",00,";
print $map{"S"} . ",00," .$map{";"} . ",00,";
print $map{"'"} . ",00," .$map{"Z"} . ",00,";
print $map{"Q"} . ",00," .$map{"X"} . ",00,";
print $map{"J"} . ",00," .$map{"C"} . ",00,";
print $map{"K"} . ",00," .$map{"V"} . ",00,";
print $map{"X"} . ",00," .$map{"B"} . ",00,";
print $map{"B"} . ",00," .$map{"N"} . ",00,";
print $map{"W"} . ",00," .$map{","} . ",00,";
print $map{"V"} . ",00," .$map{"."} . ",00,";
print $map{"Z"} . ",00," .$map{"/"} . ",00,";
print "1D,00,38,00,38,00,1D,00,";
print "00,00,00,00";
