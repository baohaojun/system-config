
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>修改桌面键绑定的那些坑</title>
<meta content="Org mode" name="generator"/>
<meta content="Bao Haojun" name="author"/>


<link href="/poison.png" rel="shortcut icon" type="image/png"/>
<script src="/js/jquery-1.7.1.min.js" type="text/javascript"></script>
<script type="text/javascript">
        var BYB = {};
    </script>
<script type="text/javascript">
        BYB.includeScript = function(file,callback){
            var _doc = document.getElementsByTagName('head')[0];
            var js = document.createElement('script');
            js.setAttribute('type', 'text/javascript');
            js.setAttribute('src', file);
            _doc.appendChild(js);

            if (!/*@cc_on!@*/0) { //if not IE
                //Firefox2、Firefox3、Safari3.1+、Opera9.6+ support js.onload
                js.onload = function () {
                    callback();
                }
            } else {
                //IE6、IE7 support js.onreadystatechange
                js.onreadystatechange = function () {
                    if (js.readyState == 'loaded' || js.readyState == 'complete') {
                        callback();
                    }
                }
            }
            return false;
        }
    </script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body style='line-height: 1.6em; font-family: "Arial", Arial, Helvetica, sans-serif; margin: 0; padding: 40px 20px; font: x-small Georgia, Serif; text-align: center; font-size: small; color: #2E3436; background-color: #EDEDED'><style>@media all { #header { width: 660px; margin: 0 auto 10px; border: 1px solid #ccc } #bhj_article { width: 920px; margin: 0 auto; padding: 0; text-align: left } #bhj_leftpane, #content { width: 640px; float: left } #sidebar { width: 240px; float: right } img.emoji { width: 1.3em; vertical-align: -0.35em } }
@media only screen and (-webkit-min-device-pixel-ratio: 2) /* Webkit-based browsers */, only screen and (min--moz-device-pixel-ratio: 2) /* Older Firefox browsers (prior to Firefox 16) */, only screen and (min-resolution: 2dppx) /* The standard way */, only screen and (min-resolution: 192dpi) { /* dppx fallback */ #header { width: 85%; margin: 0 auto 5px; border: 1px solid #ccc } #bhj_article { width: 90% } #bhj_leftpane, #content { width: 100%; float: none } #sidebar { width: 100%; float: none; display: none } #description { font: 60%/1.2em "Trebuchet MS", Trebuchet, Arial, Verdana, Sans-serif; text-transform: uppercase } }
@media all { .date-header { margin: 1.5em 0 0.5em } .post { margin: 0.5em 0 1.5em; border-bottom: 1px dotted #ccc; padding-bottom: 1.5em } }
@media handheld { .date-header { padding: 0 1.5em 0 1.5em } .post { padding: 0 1.5em 0 1.5em } }</style>
<div class="status" id="preamble">
<div id="header">
<h1 id="blog-title" style="border-bottom: 1px solid #ddd; margin: 5px 5px 0; padding: 20px 20px 0.25em; border: 1px solid #eee; border-width: 1px 1px 0; font-size: 160%; line-height: 1.2em; font-weight: normal; letter-spacing: 0.2em; text-decoration: none">
<a href="http://baohaojun.github.io/blog/2011/12/23/index.html" style="color: #06C; text-decoration: underline">包昊军的博客</a>
</h1>
<p id="description" style='margin-top: 10px; margin-bottom: 10px; margin: 0 5px 5px; padding: 0 20px 20px; border: 1px solid #eee; border-width: 0 1px 1px; font: 78%/1.4em "Trebuchet MS", Trebuchet, Arial, Verdana, Sans-serif; text-transform: uppercase; letter-spacing: 0.2em'>What you don't know, won't hurt you.</p>
</div>
</div>
<div id="bhj_article">
<div id="bhj_leftpane">
<div id="content" style="font-size: 11pt; line-height: 1.6em">
<h1 class="title" style="margin: 1.3em 0 1em; padding: 0; border-bottom: 1px solid #ddd; text-align: center; font-size: 160%; color: #191970; font-weight: bold">修改桌面键绑定的那些坑</h1>
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
我在使用 sawfish 作为窗口管理器，同时会参考 Emacs 的键绑定，定制很多全局的窗口快捷键，比如在 gedit 里，也要求按下 Ctrl-b 之后，可以起到向后移动一个字符（即方向键 Left）的效果。
</p>
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
这个操作本身就已经有比较多的坑了，然而，由于我调换了 Ctrl 键和 Alt 键的位置，所有的坑也变得更深了。
</p>
<div class="outline-2" id="outline-container-org39046a5">
<h2 id="org39046a5" style='font-family: "Trebuchet MS", Trebuchet, Arial, Verdana, Sans-serif; letter-spacing: 0.2em; margin: 1.3em 0 1em; padding: 0; font-size: 1.4em; border-bottom: 1px solid #eee; color: #00578E; font-weight: bold'><span class="section-number-2">1</span> Gtk 的窗口</h2>
<div class="outline-text-2" id="text-1">
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
Sawfish 自带的定制键盘消息，是通过这个命令：<code style="background: transparent; font-size: 0.85em; font-family: Consolas, Inconsolata, Courier, monospace; margin: 0 0.15em; padding: 0 0.3em; white-space: pre-wrap; border: 1px solid #EAEAEA; background-color: #F8F8F8; border-radius: 3px; display: inline; color: #7f7f7f">synthesize-event</code>，它是通过 X11 的接口 XSendEvent 来实现的，然而，在 gtk 的窗口上，这个接口被认为有安全隐患，因此把它给禁用了，不会处理你发给它的消息。
</p>
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
但是，X11 还有一个扩展，叫 XTest，也可以用于发送伪造的键盘消息，不知道为什么，gtk 窗口没有认为这个一样的机制也是一种安全隐患，还是支持它的。但是，sawfish 自己不支持 XTest 接口。
</p>
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
但是，Linux 下有一个叫 xdotool 的工具，它支持 XTest 的接口。
</p>
</div>
</div>
<div class="outline-2" id="outline-container-org397f825">
<h2 id="org397f825" style='font-family: "Trebuchet MS", Trebuchet, Arial, Verdana, Sans-serif; letter-spacing: 0.2em; margin: 1.3em 0 1em; padding: 0; font-size: 1.4em; border-bottom: 1px solid #eee; color: #00578E; font-weight: bold'><span class="section-number-2">2</span> Xdotool 的坑</h2>
<div class="outline-text-2" id="text-2">
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
Xdotool 在使用的过程中，比如我想把 Crtl-b 转换成 Left，必须做如下操作：
</p>
<pre class="example" style="background: transparent; border: 2pt solid #7E0D0C; padding: 5pt; overflow: auto; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 1em; line-height: 1.2em; margin: 1.2em 0; color: #7f7f7f"><br/>keyup b # 1<br/><br/>key --clearmodifiers Left # 2<br/></pre>
<ul class="org-ul" style="margin: 1.2em 0; padding-left: 2em">
<li style="margin: 0.5em 0"># 1 先把当前接着的 b 给松开，不松开的话，窗口系统不会处理接下来发送的 Left 键。</li>
<li style="margin: 0.5em 0"># 2 &#x2013;clearmodifiers 开关会把 Ctrl 先松开，然后按下、松开 Left，再把 Ctrl 键按回去</li>
</ul>
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
我花了很多时间，才总结出这个规律来<img class="emoji" src="emojis/wx-WuLian.PNG" style="max-width: 100%; width: 1.3em; vertical-align: -0.35em;"/>。
</p>
<ol class="org-ol" style="margin: 1.2em 0; padding-left: 2em">
<li style="margin: 0.5em 0">之前一直以为直接发送 Left 就可以（因为 sawfish 就是这样操作的！），</li>
<li style="margin: 0.5em 0">然后，发现基本不 work，想发出去的 Left 根本没被接收到，</li>
<li style="margin: 0.5em 0">但是又不知道怎么解决，多次尝试之后发现加个 sleep 等待一会儿就可以接收</li>
<li style="margin: 0.5em 0"><p style="margin-top: 10px; margin-bottom: 10px; margin: 0.5em 0">
怀疑到可能是要等键盘上的键全部松开才可以，于是写了个脚本，<code style="background: transparent; font-size: 0.85em; font-family: Consolas, Inconsolata, Courier, monospace; margin: 0 0.15em; padding: 0 0.3em; white-space: pre-wrap; border: 1px solid #EAEAEA; background-color: #F8F8F8; border-radius: 3px; display: inline; color: #7f7f7f">xdotool-when-keyboard-clear</code>
</p>
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0.5em 0">
这个脚本能用是能用，但是体验很不好，我每按一次 Ctrl-b，都需要自己把两个键都松开，然后脚本检测到之后才会发送 Left 键。
</p>
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0.5em 0">
由于使用了轮循检测所有按键是否已松开，脚本的性能也有问题，时序也无法保证（比如连续快速按下两个快捷键的话，发送出来的顺序跟按下的顺序不一定是一致的<img class="emoji" src="emojis/wx-WuLian.PNG" style="max-width: 100%; width: 1.3em; vertical-align: -0.35em;"/>）。
</p></li>
<li style="margin: 0.5em 0">用了很多年 <code style="background: transparent; font-size: 0.85em; font-family: Consolas, Inconsolata, Courier, monospace; margin: 0 0.15em; padding: 0 0.3em; white-space: pre-wrap; border: 1px solid #EAEAEA; background-color: #F8F8F8; border-radius: 3px; display: inline; color: #7f7f7f">xdotool-when-keyboard-clear</code> 之后，重新折腾 xdotool 的源代码，才发现应该可以用上面的方法，用 xdotool 自带的机制直接搞定。</li>
</ol>
</div>
<div class="outline-3" id="outline-container-orgd28550d">
<h3 id="orgd28550d" style="margin: 1.3em 0 1em; padding: 0; font-size: 1.3em; color: #0084C8; font-weight: bold"><span class="section-number-3">2.1</span> 剩下的一个小坑</h3>
<div class="outline-text-3" id="text-2-1">
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
由于 <code style="background: transparent; font-size: 0.85em; font-family: Consolas, Inconsolata, Courier, monospace; margin: 0 0.15em; padding: 0 0.3em; white-space: pre-wrap; border: 1px solid #EAEAEA; background-color: #F8F8F8; border-radius: 3px; display: inline; color: #7f7f7f">--clearmodifiers</code> 的关系，xdotool 会把上例中的 Ctrl 键先松开，最后再『按』回去。这一按不要紧，有时候它按回去的时候，实际上你的手指自己已经松开了 Ctrl 键。
</p>
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
你猜这种情况下会发生什么现象呢？<img class="emoji" src="emojis/SMILING_FACE_WITH_OPEN_MOUTH_AND_COLD_SWEAT.png" style="max-width: 100%; width: 1.3em; vertical-align: -0.35em;"/>
</p>
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
在这里，我只告诉你这个情况我是怎么解决的，就是把键盘上的所有 ctrl、alt、super、shift 等辅助按键全部都按下、再松开<img class="emoji" src="emojis/QQ-WUNAI.PNG" style="max-width: 100%; width: 1.3em; vertical-align: -0.35em;"/>。
</p>
</div>
</div>
</div>
<div class="outline-2" id="outline-container-orgf3972a4">
<h2 id="orgf3972a4" style='font-family: "Trebuchet MS", Trebuchet, Arial, Verdana, Sans-serif; letter-spacing: 0.2em; margin: 1.3em 0 1em; padding: 0; font-size: 1.4em; border-bottom: 1px solid #eee; color: #00578E; font-weight: bold'><span class="section-number-2">3</span> 切换在 ctrl 和 alt 引入的问题</h2>
<div class="outline-text-2" id="text-3">
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
前面已经说过，我自己切换过 ctrl 和 alt 的位置，因此导致了一个非常奇怪的问题。
</p>
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
我的 sawfish 配置是这样的（其实是从 Emacs 中拷贝出来的）：
</p>
<ul class="org-ul" style="margin: 1.2em 0; padding-left: 2em">
<li style="margin: 0.5em 0">按下 Ctrl-b 的时候，实际给窗口发送 Left 键消息（向后移动一个字符）</li>
<li style="margin: 0.5em 0">按下 Alt-b 的时候，实际给窗口发送 Ctrl-Left 键消息（向后移动一个单词）</li>
</ul>
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
但是，我在实际使用的时候，发现一个奇怪的现象，即刚启动的时候，我可以连续按多次 Ctrl-b（更确切地说，是按住 Ctrl 之后，按多次 b），系统会发送多个 Left 消息。这个跟系统自带的按住 Left 键不松开，就会发送多个 Left 比起来，不算最理想的体验，但对我来说暂时够用了。
</p>
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
然而，用了一段时间之后，我就发现按住 Ctrl 不放开，按多次 b 键的话，只会在第一次按 b 时发送一个 Left，后面的 Left 就不发送了。
</p>
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
触发这个问题的方法，就是我自己再运行一次 swap alt/ctrl 键的脚本。这个脚本的工作原理是这样的：
</p>
<ol class="org-ol" style="margin: 1.2em 0; padding-left: 2em">
<li style="margin: 0.5em 0">调用 setxkbmap 设置我的键盘布局为 dvp</li>
<li style="margin: 0.5em 0">调用 xmodmap 交换我的 alt/ctrl、caps/escape 键的位置。</li>
</ol>
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
经过一番艰苦的调试之后，我发现这时候 xdotool 又进入了键盘状态不正确的工作方式。在处理完第一个 Ctrl-b 之后，我发现 sawfish 调用 xdotools 的方式变了，不再是发送 Left，而是发送了 Ctrl-Left，也就是说，XWindow 系统把 Ctrl-b 认成了 Alt-b。
</p>
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
这一点，也可以用 xev 程序来验证：
</p>
<pre class="example" style="background: transparent; border: 2pt solid #7E0D0C; padding: 5pt; overflow: auto; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 1em; line-height: 1.2em; margin: 1.2em 0; color: #7f7f7f"><br/>KeyPress event, serial 43, synthetic NO, window 0x3c00001,<br/>    root 0x217, subw 0x0, time 4496810, (831,443), root<img class="emoji" src="emojis/DISAPPOINTED_FACE.png" style="max-width: 100%; width: 1.3em; vertical-align: -0.35em;"/>872,565),<br/>    state 0x8, keycode 113 (keysym 0xff51, Left), same_screen YES,<br/>    XLookupString gives 0 bytes:<br/>    XmbLookupString gives 0 bytes:<br/>    XFilterEvent returns: False<br/></pre>
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
那个 state 0x8，记录的就是当前的辅助按键的状态，0x8 代表 Alt 键被按下了。如果是 Ctrl 键的话，应该是 0x4（第一个 Ctrl-b 时能看到 0x4）。
</p>
</div>
<div class="outline-3" id="outline-container-org74283bc">
<h3 id="org74283bc" style="margin: 1.3em 0 1em; padding: 0; font-size: 1.3em; color: #0084C8; font-weight: bold"><span class="section-number-3">3.1</span> 解决方案</h3>
<div class="outline-text-3" id="text-3-1">
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
我在写这篇博客的时候，还没有想到最终的解决方案，还在想一个 workaround（这也是为什么这篇博客的归类是 workaround）。
</p>
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
但是，现在我已经知道问题的根本原因，以及解决方案了。
</p>
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
问题的根本原因，是因为 X 的键盘程序，和 xmodmap 有点儿不兼容。虽然我用 xmodmap 交换了 ctrl/alt，但是被 xdotool 的 clearmodifiers 一发送，就会被 X 给认成原来没有交换的辅助按键，即 ctrl 被认成 alt，alt 被认成 ctrl。然后因为键盘状态一错，xdotool 就不再工作了（否则 Ctrl-b 被认成 Alt-b，sawfish 调用 xdotool 发送了 Ctrl-Left，光标应该向后移动一个单词才对，事实上光标一动也不动）。
</p>
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
明白了这一点，解决方案也就很简单了，因为我用的是 dvp 布局，我马上想到把 qwepty 布局能改成 dvp 布局，那这个改布局的程序（setxkbmap）肯定也拥有修改辅助按键的能力，并且通过它改的话，肯定不会有问题了吧？
</p>
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
果然，试了一下，确实没有问题了。
</p>
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
可怜我十多年就这么凑和过来了，今天才知道事情的真相<img class="emoji" src="emojis/wx-WuLian.PNG" style="max-width: 100%; width: 1.3em; vertical-align: -0.35em;"/>。
</p>
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
使用的命令：
</p>
<div class="org-src-container">
<pre class="src src-sh" style="background: transparent; color: inherit; border: 2pt solid #7E0D0C; padding: 5pt; overflow: auto; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 1em; line-height: 1.2em; margin: 1.2em 0">setxkbmap -layout us -variant dvp -option ctrl:swap_lalt_lctl -option caps:swapescape -option ctrl:swap_ralt_rctl<br/></pre>
</div>
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
其中，前两个 option 是系统自带本身就支持的，最后一个 option 需要按照这篇文档进行修改：
</p>
<p style="margin-top: 10px; margin-bottom: 10px; margin: 0 0 1.2em 0">
<a href="https://askubuntu.com/questions/885045/how-to-swap-ctrl-and-alt-keys-in-ubuntu-16-04" style="color: #06C; text-decoration: underline">https://askubuntu.com/questions/885045/how-to-swap-ctrl-and-alt-keys-in-ubuntu-16-04</a>
</p>
</div>
</div>
</div>
<div class="outline-2" id="outline-container-orgc93ef5e">
<h2 id="orgc93ef5e" style='font-family: "Trebuchet MS", Trebuchet, Arial, Verdana, Sans-serif; letter-spacing: 0.2em; margin: 1.3em 0 1em; padding: 0; font-size: 1.4em; border-bottom: 1px solid #eee; color: #00578E; font-weight: bold'><span class="section-number-2">4</span> 总结</h2>
<div class="outline-text-2" id="text-4">
<ol class="org-ol" style="margin: 1.2em 0; padding-left: 2em">
<li style="margin: 0.5em 0">以后不要用 xmodmap 了（反正在 wayland 上已经是不能用了的，setxkbmap 不知道能不能用）</li>
<li style="margin: 0.5em 0">通过 setxkbmap 修改 modifier keys。</li>
</ol>
<nav>
<ul id="prev_next_posts" style="margin: 1.2em 0; padding-left: 2em; list-style: none; padding: 0">
<li class="prev_post" style="margin: 0.5em 0; float: left; width: 50%">
<a href="../../06/16/0-7-habits-1.html" style="color: #06C; text-decoration: underline"> <!-- prev-url -->
<i class="icon-chevron-left">《</i>
        参加「高效能人士的七个习惯」培训感悟（第一个习惯） <!-- prev-title -->
</a>
</li>
<li class="next_post" style="margin: 0.5em 0; float: right; width: 50%; text-align: right;">
<a href="../27/0-7-habits-2.html" style="color: #06C; text-decoration: underline"> <!-- next-url -->
        七个习惯感悟（二）「以终为始、要事第一」 <!-- next-title -->
<i class="icon-chevron-right">》</i>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<!-- {%html-mode%} -->
<div id="disqus_container">
<script style="margin-top: 20px; margin-bottom: 20px" type="text/javascript">
    /* * * CONFIGURATION VARIABLES: THIS CODE IS ONLY AN EXAMPLE * * */
    var disqus_shortname = 'baohaojun'; // Required - Replace example with your forum shortname
    var disqus_url = 'http://baohaojun.github.io/blog/2019/08/04/0-traps-of-binding-desktop-keys.html';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<div id="disqus_thread" style="margin-top: 20px; margin-bottom: 20px"></div>
</div>
</div> <!-- bhj_leftpane -->
<div id="sidebar"><div id="sidebar2">
<!-- Begin #profile-container -->
<div id="profile-container" style="margin: 0 0 1.5em; border-bottom: 1px dotted #ccc; padding-bottom: 1.5em"><h2 class="sidebar-title" style='font-family: "Trebuchet MS", Trebuchet, Arial, Verdana, Sans-serif; letter-spacing: 0.2em; margin: 1.3em 0 1em; padding: 0; font-size: 1.4em; border-bottom: 1px solid #eee; color: #00578E; font-weight: bold'>About Me</h2>
<dl class="profile-datablock" style="padding: 0; margin: 0.5em 0 0.5em"><dt class="profile-img" style="font-size: 1em; font-weight: bold; font-style: italic; display: inline"><a "="" href="/images/bhj.png" style="color: #06C; text-decoration: underline"><img alt="My Photo" height="58" src="/images/bhj-thumb.png" style="max-width: 100%; border-width: 0; float: left; padding: 4px; border: 1px solid #ddd; margin: 0 8px 3px 0" width="80"/></a></dt>
<dd class="profile-data" style='padding: 0 1em; margin: 0; font: bold 78%/1.6em "Trebuchet MS", Trebuchet, Arial, Verdana, Sans-serif; text-transform: uppercase; letter-spacing: 0.1em'><strong style="display: none">Name:</strong> <a href="https://www.github.com/baohaojun" rel="author" style="color: #06C; text-decoration: underline"> Bao Haojun </a></dd>
<dd class="profile-data" style='padding: 0 1em; margin: 0; font: bold 78%/1.6em "Trebuchet MS", Trebuchet, Arial, Verdana, Sans-serif; text-transform: uppercase; letter-spacing: 0.1em'><strong style="display: none">Location:</strong>  Beijing, China </dd></dl>
<p class="profile-link" style='margin-top: 10px; margin-bottom: 10px; margin: 0; font: 78%/1.4em "Trebuchet MS", Trebuchet, Arial, Verdana, Sans-serif; text-transform: uppercase; letter-spacing: 0.1em; line-height: 1.5em'><a href="/blog/2011/12/23/index.html" rel="author" style="color: #06C; text-decoration: underline">View my complete profile</a></p></div>
<h2 class="sidebar-title" style='font-family: "Trebuchet MS", Trebuchet, Arial, Verdana, Sans-serif; letter-spacing: 0.2em; margin: 1.3em 0 1em; padding: 0; font-size: 1.4em; border-bottom: 1px solid #eee; color: #00578E; font-weight: bold'>Like my blog?</h2>
<a href="https://pledgie.com/campaigns/33066" style="color: #06C; text-decoration: underline"><img alt="Click here to lend your support to: Well done, Mr. Bao Haojun. and make a donation at pledgie.com !" border="0" src="https://pledgie.com/campaigns/33066.png?skin_name=chrome" style="max-width: 100%; border-width: 0"/></a>
<!-- End #profile -->
<h2 class="sidebar-title" style='font-family: "Trebuchet MS", Trebuchet, Arial, Verdana, Sans-serif; letter-spacing: 0.2em; margin: 1.3em 0 1em; padding: 0; font-size: 1.4em; border-bottom: 1px solid #eee; color: #00578E; font-weight: bold'>Feeds</h2>
<ul style="padding-left: 2em; margin: 0 0 1.5em; padding: 0 0 1.5em; border-bottom: 1px dotted #ccc; list-style: none">
<li style="margin: 0; padding: 0 0 0.25em 15px; text-indent: -15px; line-height: 1.5em"><a href="/atom.xml" style="color: #06C; text-decoration: underline">Atom</a></li>
</ul>
<h2 class="sidebar-title" style='font-family: "Trebuchet MS", Trebuchet, Arial, Verdana, Sans-serif; letter-spacing: 0.2em; margin: 1.3em 0 1em; padding: 0; font-size: 1.4em; border-bottom: 1px solid #eee; color: #00578E; font-weight: bold'>Projects</h2>
<dl style="margin: 1.2em 0; padding: 0">
<dt style="font-size: 1em; font-weight: bold; font-style: italic"><a href="/blog/2011/12/23/beagrep.html" style="color: #06C; text-decoration: underline"> Beagrep </a></dt>
<dd style="margin: 0 0 1em; padding: 0 1em"> Grep 2G source code in 0.23 second </dd>
<dt style="font-size: 1em; font-weight: bold; font-style: italic"><a href="/blog/2013/04/13/skeleton-complete.html" style="color: #06C; text-decoration: underline"> Skeletom-complete.el </a></dt>
<dd style="margin: 0 0 1em; padding: 0 1em"> Type a bare skeleton, complete to a symbol/partial line/sexp/paragraph </dd>
<dt style="font-size: 1em; font-weight: bold; font-style: italic"><a href="/blog/2011/12/28/org-jira.html" style="color: #06C; text-decoration: underline"> Org-jira.el </a></dt>
<dd style="margin: 0 0 1em; padding: 0 1em"> Use JIRA with org-mode </dd>
</dl>
<h2 style='font-family: "Trebuchet MS", Trebuchet, Arial, Verdana, Sans-serif; letter-spacing: 0.2em; margin: 1.3em 0 1em; padding: 0; font-size: 1.4em; border-bottom: 1px solid #eee; color: #00578E; font-weight: bold'>Tags</h2>
<ul style="padding-left: 2em; margin: 0 0 1.5em; padding: 0 0 1.5em; border-bottom: 1px dotted #ccc; list-style: none">
<li style="margin: 0; padding: 0 0 0.25em 15px; text-indent: -15px; line-height: 1.5em"><a href="../../../../meta/tags/workaround.html" style="color: #06C; text-decoration: underline" title="workaround for some bugs I found">workaround</a></li>
</ul>
<h2 class="sidebar-title" style='font-family: "Trebuchet MS", Trebuchet, Arial, Verdana, Sans-serif; letter-spacing: 0.2em; margin: 1.3em 0 1em; padding: 0; font-size: 1.4em; border-bottom: 1px solid #eee; color: #00578E; font-weight: bold'>Previous Posts</h2>
<ul id="recently" style="padding-left: 2em; margin: 0 0 1.5em; padding: 0 0 1.5em; border-bottom: 1px dotted #ccc; list-style: none">
<li style="margin: 0; padding: 0 0 0.25em 15px; text-indent: -15px; line-height: 1.5em"><a href="../../06/16/0-7-habits-1.html" style="color: #06C; text-decoration: underline"> 参加「高效能人士的七个习惯」培训感悟（第一个习惯） </a></li>
<li style="margin: 0; padding: 0 0 0.25em 15px; text-indent: -15px; line-height: 1.5em"><a href="../../05/28/0-about-bugs-priority-severity.html" style="color: #06C; text-decoration: underline"> 关于 Bug 的优先级、严重性 </a></li>
<li style="margin: 0; padding: 0 0 0.25em 15px; text-indent: -15px; line-height: 1.5em"><a href="../../04/17/0-After-Reading-OKR.html" style="color: #06C; text-decoration: underline"> OKR 减肥记 </a></li>
<li style="margin: 0; padding: 0 0 0.25em 15px; text-indent: -15px; line-height: 1.5em"><a href="../../01/09/0-Jenkins-Mac-Keychain.html" style="color: #06C; text-decoration: underline"> Jenkins Mac Slave 的 Keychain 配置方法 </a></li>
<li style="margin: 0; padding: 0 0 0.25em 15px; text-indent: -15px; line-height: 1.5em"><a href="../../../2018/08/27/sc-complete.html" style="color: #06C; text-decoration: underline"> bash 下更方便的补齐选择方法 </a></li>
<li style="margin: 0; padding: 0 0 0.25em 15px; text-indent: -15px; line-height: 1.5em"><a href="../../../2018/07/05/0-Automating-bash-or-perl-arguments-handling-in-Emacs.html" style="color: #06C; text-decoration: underline"> Automating bash/perl arguments handling in Emacs </a></li>
<li style="margin: 0; padding: 0 0 0.25em 15px; text-indent: -15px; line-height: 1.5em"><a href="../../../2018/05/02/0-after-watching-a-movie.html" style="color: #06C; text-decoration: underline"> “后来的我们”观后瞎扯 </a></li>
<li style="margin: 0; padding: 0 0 0.25em 15px; text-indent: -15px; line-height: 1.5em"><a href="../../../2017/07/01/0-Wrench-User-Manual.html" style="color: #06C; text-decoration: underline"> 小扳手使用手册 </a></li>
<li style="margin: 0; padding: 0 0 0.25em 15px; text-indent: -15px; line-height: 1.5em"><a href="../../../2017/06/29/0-One-Wrench-To-Screw-Them-All.html" style="color: #06C; text-decoration: underline"> 小扳手的野望 </a></li>
<li style="margin: 0; padding: 0 0 0.25em 15px; text-indent: -15px; line-height: 1.5em"><a href="../../../2017/02/16/0-wrap-lines-with-emacs.html" style="color: #06C; text-decoration: underline"> 刚刚学到一招：简便 Emacs 折行 </a></li>
</ul>
<h2 class="sidebar-title" style='font-family: "Trebuchet MS", Trebuchet, Arial, Verdana, Sans-serif; letter-spacing: 0.2em; margin: 1.3em 0 1em; padding: 0; font-size: 1.4em; border-bottom: 1px solid #eee; color: #00578E; font-weight: bold'>Archive</h2>
<ul id="archives" style="padding-left: 2em; margin: 0 0 1.5em; padding: 0 0 1.5em; border-bottom: 1px dotted #ccc; list-style: none">
<li style="margin: 0; padding: 0 0 0.25em 15px; text-indent: -15px; line-height: 1.5em"><a href="/meta/Archive.html" style="color: #06C; text-decoration: underline"> The complete archive </a></li>
</ul>
<!--
  <p>This is a paragraph of text that could go in the sidebar.</p>
  -->
</div></div>
<!-- End #sidebar -->
</div> <!-- End #bhj_article -->
<!-- {%/html-mode%} -->
<div class="status" id="postamble">
<!-- {%html-mode%} -->
<!-- {%/html-mode%} -->
</div>
</body>
</html>

