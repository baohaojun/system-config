<?xml version="1.0"?>
<root>
  <item><name>[ex] Use Command+H as prefix key</name>
    <item><name>Command+H detail</name>
      <identifier vk_config="true">notsave.emacsmode_ex_commandH_core</identifier>
      <autogen>__ShowStatusMessage__ Quote Mode</autogen>

      <!-- # start code-generator
           function gen() {
               from=$1
               to=$2
               cat <<EOF
<autogen>__KeyToKey__ KeyCode::$from, VK_COMMAND | ModifierFlag::NONE, KeyCode::$to, ModifierFlag::COMMAND_L|ModifierFlag::SHIFT_L, KeyCode::VK_CONFIG_FORCE_OFF_notsave_emacsmode_ex_commandH_core</autogen>
EOF
           }

           gen SEMICOLON S
           gen J H
           gen O S
           gen K T
           gen D E
           gen L N
           gen U G
           gen M M
           function gen2() {
               from=$1
               to=$2
               cat <<EOF
<autogen>__KeyToKey__ KeyCode::$from, VK_COMMAND | ModifierFlag::NONE, KeyCode::$to, ModifierFlag::COMMAND_L|ModifierFlag::SHIFT_L, KeyCode::VK_CONFIG_FORCE_OFF_notsave_emacsmode_ex_commandH_core</autogen>
EOF
           }
           function gen3() {
               from=$1
               to=$2
               cat <<EOF
<autogen>__KeyToKey__ KeyCode::$from, ModifierFlag::NONE, KeyCode::$to, ModifierFlag::COMMAND_L|ModifierFlag::SHIFT_L, KeyCode::VK_CONFIG_FORCE_OFF_notsave_emacsmode_ex_commandH_core</autogen>
EOF
           }
           gen2 I BACKQUOTE
           gen3 U G # for s-h g; which is for gnus
           # end code-generator -->
      <!-- # start generated code -->
      <autogen>__KeyToKey__ KeyCode::SEMICOLON, VK_COMMAND | ModifierFlag::NONE, KeyCode::S, ModifierFlag::COMMAND_L|ModifierFlag::SHIFT_L, KeyCode::VK_CONFIG_FORCE_OFF_notsave_emacsmode_ex_commandH_core</autogen>
      <autogen>__KeyToKey__ KeyCode::J, VK_COMMAND | ModifierFlag::NONE, KeyCode::H, ModifierFlag::COMMAND_L|ModifierFlag::SHIFT_L, KeyCode::VK_CONFIG_FORCE_OFF_notsave_emacsmode_ex_commandH_core</autogen>
      <autogen>__KeyToKey__ KeyCode::O, VK_COMMAND | ModifierFlag::NONE, KeyCode::S, ModifierFlag::COMMAND_L|ModifierFlag::SHIFT_L, KeyCode::VK_CONFIG_FORCE_OFF_notsave_emacsmode_ex_commandH_core</autogen>
      <autogen>__KeyToKey__ KeyCode::K, VK_COMMAND | ModifierFlag::NONE, KeyCode::T, ModifierFlag::COMMAND_L|ModifierFlag::SHIFT_L, KeyCode::VK_CONFIG_FORCE_OFF_notsave_emacsmode_ex_commandH_core</autogen>
      <autogen>__KeyToKey__ KeyCode::D, VK_COMMAND | ModifierFlag::NONE, KeyCode::E, ModifierFlag::COMMAND_L|ModifierFlag::SHIFT_L, KeyCode::VK_CONFIG_FORCE_OFF_notsave_emacsmode_ex_commandH_core</autogen>
      <autogen>__KeyToKey__ KeyCode::L, VK_COMMAND | ModifierFlag::NONE, KeyCode::N, ModifierFlag::COMMAND_L|ModifierFlag::SHIFT_L, KeyCode::VK_CONFIG_FORCE_OFF_notsave_emacsmode_ex_commandH_core</autogen>
      <autogen>__KeyToKey__ KeyCode::U, VK_COMMAND | ModifierFlag::NONE, KeyCode::G, ModifierFlag::COMMAND_L|ModifierFlag::SHIFT_L, KeyCode::VK_CONFIG_FORCE_OFF_notsave_emacsmode_ex_commandH_core</autogen>
      <autogen>__KeyToKey__ KeyCode::M, VK_COMMAND | ModifierFlag::NONE, KeyCode::M, ModifierFlag::COMMAND_L|ModifierFlag::SHIFT_L, KeyCode::VK_CONFIG_FORCE_OFF_notsave_emacsmode_ex_commandH_core</autogen>
      <autogen>__KeyToKey__ KeyCode::I, VK_COMMAND | ModifierFlag::NONE, KeyCode::BACKQUOTE, ModifierFlag::COMMAND_L|ModifierFlag::SHIFT_L, KeyCode::VK_CONFIG_FORCE_OFF_notsave_emacsmode_ex_commandH_core</autogen>
      <autogen>__KeyToKey__ KeyCode::U, ModifierFlag::NONE, KeyCode::G, ModifierFlag::COMMAND_L|ModifierFlag::SHIFT_L, KeyCode::VK_CONFIG_FORCE_OFF_notsave_emacsmode_ex_commandH_core</autogen>

      <!-- # end generated code -->
    </item>
    <item><name>Enable Command+H!</name>
      <identifier>option.emacsmode_ex_commandH</identifier>
      <autogen>__KeyToKey__ KeyCode::J, VK_COMMAND | ModifierFlag::NONE, KeyCode::VK_CONFIG_FORCE_ON_notsave_emacsmode_ex_commandH_core</autogen>
    </item>
  </item>

  <item><name>[Terminal] Control+/ to C-_ and Control+' to C-M-_</name>
    <identifier>bhj.emacsmode_controlSlashTerminal</identifier>
    <only>TERMINAL</only>
    <autogen>__KeyToKey__ KeyCode::BRACKET_LEFT, VK_CONTROL, KeyCode::MINUS, ModifierFlag::CONTROL_L | ModifierFlag::SHIFT_L</autogen>
  </item>

  <item><name>sawfish</name>
    <identifier>bhj.sawfish</identifier>
    <autogen>__KeyToKey__ KeyCode::DELETE, VK_COMMAND|ModifierFlag::NONE, KeyCode::PAGEUP </autogen>
    <autogen>__KeyToKey__ KeyCode::DELETE, VK_CONTROL|ModifierFlag::NONE, KeyCode::DELETE, ModifierFlag::OPTION_L </autogen>
    <autogen>__KeyToKey__ KeyCode::SPACE, VK_COMMAND|ModifierFlag::NONE, KeyCode::PAGEDOWN </autogen>
  </item>

<item><name>dvp</name>
    <identifier>remap.dvp</identifier>

    <autogen>__KeyToKey__ KeyCode::BACKQUOTE, VK_SHIFT, KeyCode::BACKQUOTE, ModifierFlag::SHIFT_L </autogen>
    <autogen>__KeyToKey__ KeyCode::BACKQUOTE, KeyCode::KEY_4, ModifierFlag::SHIFT_L </autogen>

    <autogen>__KeyToKey__ KeyCode::KEY_1, VK_SHIFT, KeyCode::KEY_5, ModifierFlag::SHIFT_L </autogen>
    <autogen>__KeyToKey__ KeyCode::KEY_1, KeyCode::KEY_7, ModifierFlag::SHIFT_L </autogen>

    <autogen>__KeyToKey__ KeyCode::KEY_2, VK_SHIFT, KeyCode::KEY_7</autogen>
    <autogen>__KeyToKey__ KeyCode::KEY_2, KeyCode::BRACKET_LEFT</autogen>

    <autogen>__KeyToKey__ KeyCode::KEY_3, VK_SHIFT, KeyCode::KEY_5</autogen>
    <autogen>__KeyToKey__ KeyCode::KEY_3, KeyCode::BRACKET_LEFT, ModifierFlag::SHIFT_L </autogen>

    <autogen>__KeyToKey__ KeyCode::KEY_4, VK_SHIFT, KeyCode::KEY_3</autogen>
    <autogen>__KeyToKey__ KeyCode::KEY_4, KeyCode::BRACKET_RIGHT, ModifierFlag::SHIFT_L </autogen>

    <autogen>__KeyToKey__ KeyCode::KEY_5, VK_SHIFT, KeyCode::KEY_1</autogen>
    <autogen>__KeyToKey__ KeyCode::KEY_5, KeyCode::KEY_9, ModifierFlag::SHIFT_L </autogen>

    <autogen>__KeyToKey__ KeyCode::KEY_6, VK_SHIFT, KeyCode::KEY_9</autogen>
    <autogen>__KeyToKey__ KeyCode::KEY_6, KeyCode::EQUAL</autogen>

    <autogen>__KeyToKey__ KeyCode::KEY_7, VK_SHIFT, KeyCode::KEY_0</autogen>
    <autogen>__KeyToKey__ KeyCode::KEY_7, KeyCode::KEY_8, ModifierFlag::SHIFT_L </autogen>

    <autogen>__KeyToKey__ KeyCode::KEY_8, VK_SHIFT, KeyCode::KEY_2</autogen>
    <autogen>__KeyToKey__ KeyCode::KEY_8, KeyCode::KEY_0, ModifierFlag::SHIFT_L </autogen>

    <autogen>__KeyToKey__ KeyCode::KEY_9, VK_SHIFT, KeyCode::KEY_4</autogen>
    <autogen>__KeyToKey__ KeyCode::KEY_9, KeyCode::EQUAL, ModifierFlag::SHIFT_L </autogen>

    <autogen>__KeyToKey__ KeyCode::KEY_0, VK_SHIFT, KeyCode::KEY_6</autogen>
    <autogen>__KeyToKey__ KeyCode::KEY_0, KeyCode::BRACKET_RIGHT</autogen>

    <autogen>__KeyToKey__ KeyCode::MINUS, VK_SHIFT, KeyCode::KEY_8</autogen>
    <autogen>__KeyToKey__ KeyCode::MINUS, KeyCode::KEY_1, ModifierFlag::SHIFT_L </autogen>

    <autogen>__KeyToKey__ KeyCode::EQUAL, VK_SHIFT, KeyCode::BACKQUOTE</autogen>
    <autogen>__KeyToKey__ KeyCode::EQUAL, KeyCode::KEY_3, ModifierFlag::SHIFT_L </autogen>

    <autogen>__KeyToKey__ KeyCode::Q, KeyCode::SEMICOLON</autogen>
    <autogen>__KeyToKey__ KeyCode::W, KeyCode::COMMA</autogen>
    <autogen>__KeyToKey__ KeyCode::E, KeyCode::DOT</autogen>
    <autogen>__KeyToKey__ KeyCode::R, KeyCode::P</autogen>
    <autogen>__KeyToKey__ KeyCode::T, KeyCode::Y</autogen>
    <autogen>__KeyToKey__ KeyCode::Y, KeyCode::F</autogen>
    <autogen>__KeyToKey__ KeyCode::U, KeyCode::G</autogen>
    <autogen>__KeyToKey__ KeyCode::I, KeyCode::C</autogen>
    <autogen>__KeyToKey__ KeyCode::O, KeyCode::R</autogen>
    <autogen>__KeyToKey__ KeyCode::P, KeyCode::L</autogen>
    <autogen>__KeyToKey__ KeyCode::BRACKET_LEFT, KeyCode::SLASH</autogen>

    <autogen>__KeyToKey__ KeyCode::BRACKET_RIGHT, VK_SHIFT, KeyCode::KEY_6, ModifierFlag::SHIFT_L </autogen>
    <autogen>__KeyToKey__ KeyCode::BRACKET_RIGHT, KeyCode::KEY_2, ModifierFlag::SHIFT_L </autogen>

    <autogen>__KeyToKey__ KeyCode::S, KeyCode::O</autogen>
    <autogen>__KeyToKey__ KeyCode::D, KeyCode::E</autogen>
    <autogen>__KeyToKey__ KeyCode::F, KeyCode::U</autogen>
    <autogen>__KeyToKey__ KeyCode::G, KeyCode::I</autogen>
    <autogen>__KeyToKey__ KeyCode::H, KeyCode::D</autogen>
    <autogen>__KeyToKey__ KeyCode::J, KeyCode::H</autogen>
    <autogen>__KeyToKey__ KeyCode::K, KeyCode::T</autogen>
    <autogen>__KeyToKey__ KeyCode::L, KeyCode::N</autogen>
    <autogen>__KeyToKey__ KeyCode::SEMICOLON, KeyCode::S</autogen>
    <autogen>__KeyToKey__ KeyCode::QUOTE, KeyCode::MINUS</autogen>
    <autogen>__KeyToKey__ KeyCode::Z, KeyCode::QUOTE</autogen>
    <autogen>__KeyToKey__ KeyCode::X, KeyCode::Q</autogen>
    <autogen>__KeyToKey__ KeyCode::C, KeyCode::J</autogen>
    <autogen>__KeyToKey__ KeyCode::V, KeyCode::K</autogen>
    <autogen>__KeyToKey__ KeyCode::B, KeyCode::X</autogen>
    <autogen>__KeyToKey__ KeyCode::N, KeyCode::B</autogen>
    <autogen>__KeyToKey__ KeyCode::COMMA, KeyCode::W</autogen>
    <autogen>__KeyToKey__ KeyCode::DOT, KeyCode::V</autogen>
    <autogen>__KeyToKey__ KeyCode::SLASH, KeyCode::Z</autogen>
  </item>
</root>
