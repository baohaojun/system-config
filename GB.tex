% This is the file GB.tex of the CJK package
%   for testing Chinese (in GB encoding).
%
% written by Werner Lemberg <wl@gnu.org>
%
% Version 4.8.0 (22-May-2008)

\documentclass[12pt]{article}

\usepackage{CJK}

\begin{document}


\begin{CJK*}{GB}{gbsn}
\CJKtilde
\title{高效文本编辑的七个习惯}
\date{}
\author{Bram Moolenaar}

\maketitle

如果你花很多时间输入文本、写程序或网页，通过使用一个好的编辑器并且高效
的使用它，你可以节约很多时间。本文将帮助你掌握更快更好的完成你的工作的
技能。

我会用开源文本编辑器Vim（Vi IMproved，Vi加强版）来展示关于快速编辑的概
念，但是这些概念对其他编辑器也是同样适用的。事实上选一个对的文本编辑器
是高效编辑的第一步。讨论哪个编辑器最适合你会占去太多的篇幅，所以我们
这里不讨论它。如果你不知道用哪个编辑器好或者对你现在用的编辑器不满意的
话，试一试Vim吧；你不会失望的。

［Vim命令和选项会以\textbf{粗体}显示］

\part{编辑一个文件}

\section{快速移动}

大多数的时间是花在阅读、检查错误以及寻找正确的地方开始工作，而不是插入
新的文本或修改它，在文本中移动是经常要做的事情，因此你应该学会如何快速
地移动。

非常经常性地，你会想要搜索你知道肯定存在的一段文字。或者查看所有包含某
一单词或词组的所有行。你可以简单地使用\textbf{/pattern}来找到那段文字，但
是我们有更好的办法：

\begin{itemize}
  
  \item 如果你看到一个特定的单词，你想搜索该单词出现的其他位置，你可以
    使用*命令。该命令会使用当前光标下的单词去搜索下一个。

  \item 如果你设上‘\textbf{incserach}’这个选项，Vim会在你输入匹配模式的
    同时，显示该模式第一个匹配的地方。这能帮你快速发现你输入的搜索
    模式中的错误。

  \item 如果你设上‘\textbf{hlsearch}’这个选项，Vim会把你的模式匹配上的
    地方都用黄色的背景色高亮显示出来。这使你能对搜索命令会让你跳到哪儿
    一目了然。在程序代码里用这个功能可以帮助你发现一个变量在哪里被使用
    了。你甚至不需要移动你的光标就可以发现哪里有你要找的东西。

\end{itemize}

在结构化的文本中你能更方便的快速移动。针对C语言（以及类似的如C++和
  Java），Vim有特定的命令：

\begin{itemize}
  
  \item 使用\textbf{\%}从一个开括弧跳转到与它对应的闭括弧。或者从一个
    “\#if”跳转到对应的“\#endif”。事实上，\textbf{\%}可以跳转到很多不同的
    互相匹配的东西上。这对检查（）和\{\}是否正确的嵌套非常有用。

  \item 使用［{来跳回到当前代码区块的“{”处

  \item 使用\textbf{gd}来从一个本地变量被使用的地方跳转到它被声明的地
    方。

\end{itemize}

当然了，还有很多这样的命令。我们的重点不是说你必须知道这些命令。你可能
会抗议说你不可能学会所有这么多的命令--总共得有几百条不同的移动的命令，
有些很简单，有些很费脑子--不花上几个礼拜的时间训练想记住它们全部是不可
能的。可是，你用不着那么做；相反，你应该意识到属于你一个人的编辑方式是
怎样的，进而只学习那些会使你的编辑工作更高效的命令。

这里有\textbf{三个基本步骤}：

\begin{enumerate}

\item 当你在编辑时，特别注意一下那些你经常重复以及/或者要花很多时间的
  操作。

\item 寻找是否有一条编辑器命令能帮你更快执行这个操作。读文档、问朋友、
  或者就是去“偷看”一下别人是怎么做的。

\item 对这条命令进行训练。不停地练习直到你的手指能不通过脑子就把它输入
  进去。

\end{enumerate}

让我们通过一个例子来说明这是怎么工作的：

\begin{enumerate}

\item 你发现当你编辑C语言程序文件时，你经常花时间寻找某个函数是在哪儿定
  义的。目前你是用\textbf{*}命令去搜索这个函数名还出现在别的什么地方，
  但是结果你却找到很多这个函数被调用而不是被定义的地方。于是你就想，肯
  定应该有一个更快的方法来做这件事。

\item 通过浏览Vim的快速参考手册你发现一条关于标签之前跳转的评论。文档里
  说通过这个可以跳转到函数定义的地方，恰好是你需要的！

\item 通过使用Vim自带的ctags程序，你做了一个生成标签文件的小试验。你学
  会了怎么使用\textbf{CTRL-]}命令，并发现使用这个新命令你能比以前节约很
      多时间。为了使这个过程更容易，你往你的Makefile文件里加了几行，以
      便以后自动的生成这个标签文件。

\end{enumerate}

你在使用这三个步骤的时候必须注意几件事情：

\begin{itemize}
  
  \item “我希望快点把工作干完，我没有时间去查阅文档去学习新命令”。如果
    你这样想的话，你会被陷在计算机的石器时代。有些人用Notepad编辑任何东
    西，一边却在奇怪为什么别人能用一半的时间干完同样的工作呢…

  \item 别做过头了。如果你总是想去找到那条最完美的命令来做你的任何小编
    辑工作，你的脑子会没时间去思考你真正应该去做的工作。你应该挑出那些
    花不必要长时间的操作，针对这些命令进行训练直到你的潜意识里接受了
    它，以后想都不用想就能把它们在键盘上敲出来。接下来你就应该把精力放
    在你要写的东西上。

\end{itemize}

接下来的小节中会讲到大多数人都需要面对的一些操作，你可以从这些操作中获
得启发，以后在你自己的工作中作用这三个步骤。

\section{别输入两次}

我们会输入的单词是一个有限的集合。甚至短语和句子也是有限的。尤其是对计
算机程序来说。显然，你不希望把同一件事输入两次。

你经常会需要把一个单词换成另一个。如果是在整个文件中要作这个操作，你可
以使用\textbf{:s}（substitute，替换）命令。如果只有几个地方需要替换，一
个快速的方法是使用\textbf{*}命令找到该单词下一个出现的地方，使用
\textbf{cw}来替换这个单词。接着打\textbf{n}找到下一个地方，打
\textbf{.}（dot，点）来重复上一条\textbf{cw}替换命令。

\textbf{.}这个命令会重复上一个改动。这里所说的一个改动，意思就是插入、
删除或替换文本。能够重复这个是一种很强的机制。如果你围绕这个来组织你的
编辑工作的话，很多工作变成只要打一个\textbf{.}键就好了。注意在两次使用
重复命令之间的编辑操作，因为这有可能改掉你想重复的操作。在这种情况下你
可以打个\textbf{m}来记录来这个位置，重复你的改动，最后再回到你记下的那
个书签位置做你想做的编辑。

一些函数或变量名可能很不好输入。比如“XpmCreatePixmapFromData”，你能快速
的不查声明不犯错的输入它吗？Vim有一个补齐机制能让这种操作变得容易很多。
它会在你当前编辑的文件以及你\#include的头文件里检索单词。你可以只能
“XpmCr”，然后打\textbf{CTRL-N}，Vim会帮你把它展开成
“XpmCreatePixmapFromData”。这不仅省下很多键盘输入，还可以避免打错字而不
得不在编译器输出出错信息的时候再回头来修改。

当你在多次打一个短语或者句子的时候，我们有甚至更快的办法。Vim有一个录制
宏的机制。你打\textbf{qa}来往‘a’寄存器中录制一个宏。然后就像平时一样开
始输入你的命令，最后打\textbf{q}命令来停止宏记录。当你想重复你记录下来
的那些操作命令的时候，你就打\textbf{@a}。一共有26个寄存器可供你记录。

使用宏记录你可以重复许多不同的操作，不仅仅是插入文本。下次当你需要重复
一些操作的时候希望你能想到宏命令。

在使用宏命令时要特别注意的一件事是，当你重放这个宏的时候，你记录的命令
会被原封不动地重复出来，

\end{CJK*}

\end{document}

%%% Local Variables:
%%% coding: euc-china
%%% mode: latex
%%% TeX-master: t
%%% End:
